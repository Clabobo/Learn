## 目标
- 将所有已生成文档的“原理”章节升级到源码与架构深度：数据结构、关键算法、调用链、设计权衡、性能影响与工程化验证。
- 每篇新增：源码路径清单（文件:方法）、精细图表（时序/类图，含方法与字段标注）、可运行示例与对比结论、自测题与追问路径。

## 加深范围（按模块）
### Java 基础
- 集合（docs/java/collections-internals.md）：HashMap 的 `hash/resize/treeifyBin` 条件与红黑树旋转简述；LinkedHashMap 访问/插入顺序与 LRU；ConcurrentHashMap 分段/桶锁与 CAS（对比新增小节）。
- 并发（docs/java/concurrency-threads-pools-locks.md）：Happens-Before、`volatile` 有序性；ThreadPoolExecutor 的 `addWorker/runWorker` 生命周期与队列选择（Synchronous/Linked/Array）；ReentrantLock 公平/非公平与条件队列。
- JVM（docs/java/jvm-memory-gc-classloading.md）：卡表/Remembered Set、晋升与并发标记细节、暂停时间来源；类解析/链接/初始化流程与双亲委派打破风险。
- OOP（docs/java/oop-design-patterns.md）：SOLID 每条原则配工程反例与重构方案；策略/观察者/责任链内部消息流，误用陷阱与性能代价。

### Kotlin 基础
- 互操作（docs/kotlin/kotlin-vs-java-interoperability.md）：`@JvmName/@JvmOverloads/@JvmStatic` 产物字节码展示、`DefaultImpls`、SAM 转换；平台类型与空注解映射，互操作 NPE 溯源。
- 扩展/高阶（docs/kotlin/extensions-higher-order-functions.md）：`inline/noinline/crossinline/reified` 语义、闭包捕获与二进制影响；尾递归与内联优化实证。
- 空安全（docs/kotlin/null-safety.md）：智能转换边界、平台类型风险、Contracts 与早失败模式；互操作注解策略。

### Android 核心
- Binder（docs/framework/binder-overview.md）：驱动事务队列、引用计数与 `ONEWAY` 标志；线程池上限、SELinux 权限模型；Parcel 格式示例。
- Handler（docs/android-core/handler-looper-messagequeue.md）：`nativePollOnce`/epoll 等待与唤醒机制；同步屏障调度细节与饥饿风险控制。
- 绘制管线（docs/ui-view/view-drawing-pipeline.md）：RenderThread→Skia 提交流程、脏区合成与 DisplayList 记录；无效重绘治理实证。
- 事件分发（docs/ui-view/touch-event-dispatch.md）：`TouchTarget` 链管理与 pointer id 多指序列；嵌套滚动冲突的阈值与角度判定策略。

### ART 运行时
- 编译与镜像（docs/art-vm/art-intro-and-compilation.md、docs/art-vm/boot-image-oat-elf-details.md）：ClassLinker 解析与镜像关联流程；OAT/ELF 字段级结构；Boot Image 加载方法级调用链。
- GC（docs/art-vm/gc-strategies-and-pause-optimization.md）：收集器触发条件、并发标记/写屏障实现、根集扫描路径；暂停时间拆解与动画阶段规避策略。
- PGC（docs/art-vm/profile-guided-compilation-practice.md）：Profile 文件格式字段、合并策略与覆盖更新；基线 Profile 生成与验证清单。

### 工程与性能
- 网络（docs/network-data/okhttp-retrofit-overview.md）：拦截器链的职责细化、连接复用与 HTTP/2 多路复用内部实现；错误模型与测试注入清单。
- 启动优化（docs/performance/startup-optimization-overview.md）：冷/热启动路径的分段指标、阻塞点画像；App Startup 与 Baseline Profiles 协同优化策略。
- Compose（docs/compose/recomposition-performance-and-state.md）：快照系统内部数据流、稳定性判断与重组触发；重组监控与 `derivedStateOf` 对比实验。
- Room（docs/network-data/room-concurrency-transactions.md）：事务边界、索引/批量写的性能数据；失效器的通知链与订阅风暴抑制。
- WorkManager（docs/jetpack/workmanager-scheduling-retries.md）：约束检查频率、退避策略参数影响；状态查询与唯一性链路验证。
- 构建与压缩（docs/build-release/gradle-agp-build-optimization.md、docs/build-release/r8-rules-reflection-keep.md）：任务图优化与配置缓存失效源；反射保留最小规则与映射文件管理。

## 实施方式
- 每篇“原理”新增五个子节：数据结构、算法逻辑、核心调用链、设计权衡、性能影响。
- 增补源码路径（文件:方法）与精细图表；示例可运行并附“预期输出+失败原因”。
- 统一面试框架（5 点模板）与自测题（3–5 题、含追问路径）。

## 推进顺序
1) Java/Kotlin 基础 7 篇 → 2) Android 核心 4 篇 → 3) ART 3 篇 → 4) 工程与性能 7 篇 → 5) 全局统一与校验。

## 验证与质量
- 代码片段在最小依赖可运行；图表渲染正确并标注方法/字段；源码路径可检索；术语中英统一。

## 需要您确认
- 若有优先加深的具体篇目（例如 README:9–18 的条目），我将先对这些篇章执行加深并提交。